# Периодический запуск процедуры очистки датасета мошеннических финансовых транзакций


## Цель работы
Разработка собственных графов с помощью языка Python для Apache Airflow:
  * создание инфраструктуры с помощью инструмента Terraform
  * развертывание кластера Apache Airflow
  * организация периодического запуска процедуры очистки данных
  * знакомство с концепцией ориентированных направленных графов (DAGs) 
  * организация с помощью графов последовательность запуска задач по расписанию 


## Схема пайплайна обработки данных

![](./img/scheme.png)

## Задачи:
1. С помощью Terraform создана [инфраструктура](./infra) в Yandex.Cloud
    <details>
      <summary>команды для развертыавния</summary>

      ```
      $ make init -C infra
      $ make apply -C infra
      ```
    </details>

2. Запущена система Apache Airflow на отдельной виртуальной машине Yandex.Cloud \
  через веб-интерфейс Airflow импортированны переменные из файла **infra/variables.json**  (**Admin -> Variables**)

<!-- 
3. Создать DAG для ежедневного автоматизированного создания и удаления Sparkкластера и запуска скрипта очистки датасета и разместить его в директории для DAG’ов,
доступной Apache Spark. В графе следует прописать этапы копирования скрипта и
необходимых ему файлов на Spark-кластер, а также его запуска на кластере посредством
spark-submit.
4. Убедиться, что граф загрузился в систему и отображается в графическом
интерфейсе. Файл(-ы) с DAG необходимо разместить в Вашем GitHub- репозитории и
предоставить для проверки.
5. Разрешить периодическое исполнение разработанного DAG в Apache AirFlow и
протестировать его работоспособность. Требуется дождаться не менее трёх успешных
запусков процедуры очистки датасета по расписанию. Снимок экрана, подтверждающий
успешную работу системы, необходимо привести в README-файле Вашего GitHubрепозитория.
6. В соответствии с достигнутыми результатами, изменить статус ранее созданных
задач на Kanban-доске в GitHub Projects. Возможно, некоторые задачи нужно будет
скорректировать, разделить на подзадачи или объединить друг с другом.
7. Полностью удалить созданный кластер, чтобы избежать оплаты ресурсов в период
его простаивания.
-->
